//
// RD Navbar Default
// --------------------------------------------------

.rd-navbar-top-panel {
  @extend %rd-navbar-top-panel-top;
  &.rd-navbar-fixed {
    @extend %rd-navbar-default-panel;
    @extend %rd-navbar-default-mobile-menu;
    @extend %rd-navbar-default-aside-left;
    

    .rd-navbar-brand {
      display: inline-block;
      vertical-align: middle;
    }

    .rd-search .form-control {
      padding-bottom: 5px;
    }

    .rd-navbar-nav {
      li {
        transition: .3s all ease;

        a {
          color: $brand-bright-gray;
          font-family: $font-family-accent;
          &.btn {
            color: $white;
            &:hover {
              color: $white;
              background: $brand-orange-peel; 
            }
          }
        }

        &:hover, &.opened, &.active {
          > a, .rd-navbar-submenu-toggle {
            color: $white;
          }

          > a {
            background: $brand-atlantis;
          }
        }

        .rd-navbar-submenu-toggle {
          margin-top: 1px;
        }

        .rd-navbar-dropdown, .rd-navbar-megamenu {
          li {
            a {
              text-transform: none;
              font-family: $font-family-base;
              font-weight: 400;
              color: $brand-atlantis;
            }

            &:hover > a, &.opened > a {
              color: $white;
            }
          }
        }
      }
    }

    .form-search-input {
      background: transparent;
      border-color: $brand-alto;
    }

    .form-search-wrap .form-group .form-label, .form-control {
      color: $gray-darker;
    }

    .form-label {
      font-size: 14px;
    }

    .form-search-input {
      border: 1px solid $gray;
    }

    .form-search-submit {
      margin-top: -1px;
    }

    .rd-navbar-megamenu ul {
      padding-left: 0;

      > li > a {
        padding-left: 30px;
      }
    }

    .rd-navbar-top-panel {
      .list-inline {
        margin-top: 10px;
        padding-left: 10px;
      }
    }

    .rd-navbar-search {
      display: none;
    }

    &.rd-navbar-static-fullwidth-transparent {
      .rd-navbar-panel,
      .rd-navbar-nav-wrap {
        background: $brand-ebony-clay;
      }

      .rd-navbar-toggle span,
      .rd-navbar-toggle span:before,
      .rd-navbar-toggle span:after,
      .form-search-input {
        background-color: $white;
      }

      .rd-navbar-nav li {
        &, a {
          color: $white;
        }
      }

      .form-search-input,
      .form-search-label {
        color: $brand-ebony-clay;
      }
    }

    @media (min-width: $screen-xs) {
      .rd-navbar-mobile-brand {
        display: none;
      }
      .rd-navbar-brand {
        display: block;
        @include transform(translateX(-50%));
      }
    }
  }

  &.rd-navbar-fixed,
  &.rd-navbar-fullwidth {
    .contact-info a {
      &:hover {
        &, span.text-alto {
          color: $brand-ebony-clay;
        }

        .icon-warning {
          color: $brand-ebony-clay;
          background: $white;
        }
      }
    }
  }

  &.rd-navbar-sidebar-toggle {
    &.rd-navbar-top-panel.rd-navbar-light.rd-navbar-fixed .rd-navbar-toggle {
      span, span:before, span:after {
        @media (min-width: $screen-lg-min) {
          background: $white;
        }
      }

      span {
        transition: .1s all ease;
      }
    }

    &.rd-navbar-top-panel.rd-navbar-light.rd-navbar-fixed .rd-navbar-nav > li {
      > a, .rd-navbar-submenu-toggle {
        color: $brand-bright-gray;
      }

      &.active, &:hover, &.opened {
        > a, .rd-navbar-submenu-toggle {
          color: $white;
        }
      }
    }
    .rd-search .form-control {
      padding-right: 45px;
    }

    .rd-search {
      padding-right: 23px;
    }

    .form-search-submit {
      right: 40px;
    }

    &.rd-navbar-top-panel.rd-navbar-fixed .rd-navbar-mobile-brand {
      display: inline-block;
    }

    .rd-navbar-toggle span {
      color: $brand-atlantis;

      &:hover {
        color: $brand-ebony-clay;
      }
    }

    &.rd-navbar-top-panel.rd-navbar-fixed {
      @media (min-width: $screen-lg-min) {
        .rd-navbar-toggle {
          span {
            box-shadow: $shadow-area-md;
            border-top-right-radius: $border-radius-base;
            border-bottom-right-radius: $border-radius-base;

            @include transform(rotate(0deg));

            &:after {
              @include transform(rotate(0deg) scale(1));
            }

            &:before {
              border-top-right-radius: $border-radius-base;
              border-bottom-right-radius: $border-radius-base;
            }
          }

          &.active {
            span {
              box-shadow: 6px 3px 11px -3px rgba(0, 0, 0, 0.15);
              @include transform(rotate(0deg));

              &:after {
                left: 50%;
                transform: translateX(-50%);
                margin-left: -8px;
              }

              &:before {
                @include transform(rotate(0deg) scale(0));
              }
            }
          }
        }

        .rd-navbar-nav-wrap {
          box-shadow: 0 3px 11px 1px rgba(0, 0, 0, 0.15);
        }
      }
    }
  }

  &.rd-navbar-static,
  &.rd-navbar-fullwidth {
    .rd-navbar-mobile-brand {
      display: none;
    }

    &.rd-navbar-white {
      position: relative;
      background: $white;

      &:before, &:after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 1000%;
        background: $white;
        box-shadow: 0 3px 11px -15px rgba(0, 0, 0, 0.15);
      }

      &:before {
        left: 100%;
      }

      &:after {
        right: 100%;
      }
    }

    .rd-navbar-nav li.active > a {
      color: $brand-atlantis;
      &.btn {
        color: $white;
      }
    }

    .rd-navbar-nav > li > a {
      color: $brand-bright-gray;
    }

    @extend %rd-navbar-default-menu-first-lvl;
    @extend %rd-navbar-default-menu-dropdown;

    .rd-navbar-dropdown {
      margin-top: $rd-navbar-top-panel-dropdown-offset-top;
    }

    .rd-navbar-top-panel {
      @include clearfix;
      padding-bottom: $rd-navbar-top-panel-padding-bottom;
      margin-bottom: $rd-navbar-top-panel-margin-bottom;
    }

    .rd-navbar-brand {
      float: left;
      margin-left: $rd-navbar-top-panel-brand-offset;

      img {
        margin-top: 0;
      }
    }

    .rd-navbar-menu-wrap {
      float: right;
    }

    .rd-navbar-panel .rd-navbar-toggle {
      display: none;
    }

    .rd-navbar-inner {
      @include clearfix;
      transition: .3s all ease;
      position: relative;
      text-align: left;
      display: flex;
      align-items: center;
      
      justify-content: space-between;
      padding: $rd-navbar-top-panel-inner-padding;
      &.active {
        .rd-navbar-panel {
          opacity: 0;
          visibility: hidden;
        }
      }

      &.inset-top-33 {
        padding-top: 33px;
      }

      > .rd-navbar-top-panel {
        &:before, &:after {
          content: '';
          position: absolute;
          top: 0;
          display: block;
          width: 1000%;
          height: 60px;
          z-index: 1;
          background: $brand-ebony-clay;
        }

        &:before {
          right: 100%;
        }

        &:after {
          left: 100%;
        }
      }
    }

    .rd-navbar-megamenu {
      left: 0;
      right: 0;

      ul {
        padding-left: 0;
      }

      @media (min-width: $screen-lg-min) {
        ul {
          margin-left: -5px;
        }
        [class*="col-"] {
          &:nth-child(-n+4) {
            width: 22%;
          }

          &:last-child {
            width: 31%;
          }
        }
      }
    }

    .rd-navbar-nav-wrap, .rd-navbar-panel, .rd-navbar-cart-wrap {
      transition: .3s all ease;
    }

    .rd-navbar-nav-wrap {
      @include clearfix;
      margin-top: 0;
      display: inline-block;
    }

    @media (min-width: $screen-lg) and (max-width: 1230px) {
      .rd-navbar-nav > li:last-child > a > .rd-navbar-label {
        margin-left: -30px;
      }
    }

    &.rd-navbar--is-stuck {
      position: fixed;
      margin-top: 0;
      width: 100%;
      padding: 0;
      max-width: none;
      padding-left: 15px;
      background: $white;
      padding-right: 15px;
      box-shadow: $rd-navbar-top-panel-stuck-shadow;
      .rd-navbar-inner {
        padding-top: 15px;
        padding-bottom: 14px;
      }

      .rd-navbar-brand img {
        margin-top: 0;
      }
      .rd-navbar-nav-wrap {
        margin-top: 6px;
      }

      @media (min-width: $screen-xl-min) {
        padding-left: 90px;
        padding-right: 90px;
      }

      .rd-navbar-top-panel {
        display: none;
      }

      .rd-navbar-nav > li > .rd-navbar-dropdown {
        margin-top: $rd-navbar-floated-stuck-dropdown-offset-top;
      }

      &.rd-navbar-default.rd-navbar-static .rd-navbar-search-form .rd-navbar-search-form-input {
        margin-top: 0;
      }
    }

    &.rd-navbar-static-fullwidth-transparent {
      background: transparent;

      &:before, &:after {
        display: none;
      }

      .rd-navbar-search-form .rd-navbar-search-form-input {
        @media (min-width: $screen-lg-min) {
          padding: 0 5% 5px 25px;
        }
      }

      .rd-navbar-nav li {
        > a {
          color: $white;
        }

        &.active, &.focus {
          > a {
            color: $brand-warning;
          }
        }
        > a {
          &:hover {
            color: $brand-warning;
          }
        }

        .rd-navbar-dropdown, .rd-navbar-megamenu {
          li a {
            color: $brand-warning;

            &:hover {
              color: $white;
            }
          }
        }
      }

      .rd-navbar-nav > li, .rd-navbar-search-toggle span,
      .form-label, .form-control {
        color: $white;
      }

      &.rd-navbar--is-stuck {
        background: $brand-ebony-clay;
      }
    }
  }
  &.rd-navbar-fullwidth {
    .rd-navbar-inner {
      flex-direction: column;
    }
  }
  &.rd-navbar-static {

   .rd-navbar-nav > li {
     @media (min-width: $screen-lg-min) and (max-width: $screen-lg-min + 99) {
       > a {
         font-size: 14px;
       }
     }
     @media (min-width: $screen-lg-min + 99) and (max-width: $screen-lg-min + 299) {
       > a {
         font-size: 15px;
       }
     }
   }

    .rd-navbar-inner {
      > .rd-navbar-top-panel {
        position: relative;
        margin-bottom: 37px;
        padding: 12px 10px 47px;
        z-index: 3;
      }
    }

    .rd-navbar-search-form {
      .rd-navbar-search-form-input.offset-top-0 {
        margin-top: 0;
      }

      .form-label {
        &-mod {
          &.focus {
            top: 25px;
          }
        }
      }
    }

    &.rd-navbar--is-stuck {
      .rd-navbar-search-form .form-group {
        height: 100%;
      }
    }

    &.rd-navbar-minimal {
      .rd-navbar-search {
        .rd-navbar-search-form .form-group {
          height: 100%;
        }

        &.active {
          .rd-navbar-search-toggle {
            margin-top: 18px;
          }
        }
      }

      &.rd-navbar--is-stuck {
        .rd-navbar-search {
          &.active {
            .rd-navbar-search-toggle {
              margin-top: 5px;
            }
          }
        }
      }
    }
  }

  &.rd-navbar-fullwidth {
    .rd-navbar-brand {
      float: none;
      margin-left: 0;
      text-align: center;
    }

    .rd-navbar-inner {
      padding: 30px 15px 20px;

      &.active .rd-navbar-panel {
        opacity: 1;
        visibility: visible;
      }
    }

    .list-inline {
      @media (min-width: $screen-md-min) {
        margin-left: 0;
      }
    }

    .rd-navbar-nav {
      padding-left: 0;

      @media (min-width: $screen-md-min) and (max-width: $screen-lg-min - 100) {
        > li > a {
          font-size: 14px;
        }
      }

      li span {
        @media (min-width: $screen-lg-min + 199) {
          letter-spacing: .13em;
        }
      }

      > li + li {
        @media (min-width: $screen-md-min) {
          margin-left: 34px;
        }
        @media (min-width: $screen-lg-min + 199) {
          margin-left: 66px;
        }
      }
    }

    .rd-navbar-menu-wrap {
      float: none;
      text-align: center;
      margin-top: 22px;

      @media (min-width: $screen-lg-min + 199) {
        margin-top: 42px;
      }
    }

    .rd-navbar-megamenu {
      margin-top: 0;
    }

    .rd-navbar-search-form {
      .form-group {
        height: 108px;
      }

      .form-label.focus {
        top: 25px;
      }

      .form-label {
        margin-top: 13px;
      }

      .form-control {
        padding-top: 30px;
      }

      .form-label.focus, .form-label {
        @media (min-width: $screen-md-min) {
          left: 65px;
        }
        @media (min-width: $screen-lg-min) {
          left: 105px;
        }
        @media (min-width: $screen-xl-min) {
          left: 285px;
        }
      }

      .rd-search-results-live {
        @media (min-width: $screen-md-min) {
          padding-left: 8%;
          padding-right: 4%;
        }
        @media (min-width: $screen-lg-min + 200) {
          padding-right: 0;
        }
        @media (min-width: $screen-xl-min) {
          padding-right: 13%;
          padding-left: 17%;
        }
      }

      .rd-navbar-search-form-input {
        margin-top: 62px;

        @media (min-width: $screen-md-min) {
          padding-left: 8%;
          padding-right: 8%;
        }
        @media (min-width: 1399px) {
          margin-top: 79px;
        }
        @media (min-width: $screen-xl-min) {
          padding-right: 17%;
          padding-left: 17%;
        }
      }

      @media (min-width: $screen-md-min) {
        max-width: 992px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 15px;
        padding-right: 15px;
      }
      @media (min-width: $screen-lg-min) {
        max-width: 1200px;
      }
      @media (min-width: $screen-xl-min) {
        max-width: 1770px;
      }
    }

    &.rd-navbar--is-stuck {
      .rd-navbar-inner {
        padding-bottom: 15px;
      }

      .rd-navbar-megamenu {
        margin-top: 5px;
      }

      .rd-navbar-brand, .rd-navbar-top-panel-toggle {
        display: none;
      }

      .rd-navbar-menu-wrap {
        margin-top: 0;
      }

      .rd-navbar-search-form {
        .form-group {
          height: 100%;
        }

        .form-label.focus, .form-label {
          margin-top: 0;
        }

        .form-label.focus {
          top: 5px;
        }

        .form-control {
          padding-top: 0;
        }

        .rd-navbar-search-form-input {
          margin-top: 0;
          height: 100%;
        }

        @media (min-width: $screen-lg-min) {
          .form-label, .form-label.focus {
            left: 9%;
          }
        }
        @media (min-width: $screen-xl-min) {
          .form-label, .form-label.focus {
            left: 16.5%;
          }
        }
      }
    }

    .rd-navbar-megamenu {
      left: 50%;
      right: auto;
      width: 100%;
      @include transform(translateX(-50%));

      li > a {
        padding-right: 8px;
      }

      @media (min-width: $screen-md-min) {
        width: 98%;
      }
      @media (min-width: $screen-lg-min) {
        width: 100%;
      }
    }
  }

  // Themes

  // Dark Them
  // -------------------

  &.rd-navbar-dark {
    background: $rd-navbar-top-panel-dark-background;
    @extend %rd-navbar-top-panel-top-dark;

    // Mobile Fixed Layout Colors
    &.rd-navbar-fixed {
      @extend %rd-navbar-default-panel-dark;
      @extend %rd-navbar-default-mobile-menu-dark;
      @extend %rd-navbar-default-aside-left-dark;
    }

    // Desktop Static Layout Colors
    &.rd-navbar-static {
      @extend %rd-navbar-default-menu-first-lvl-dark;
      @extend %rd-navbar-default-menu-dropdown-dark;

      &.rd-navbar--is-stuck {
        background: $rd-navbar-top-panel-dark-stuck-background;
      }

    }
  }

  // Light Theme
  // -------------------

  &.rd-navbar-light {
    background: $rd-navbar-top-panel-light-background;

    @extend %rd-navbar-top-panel-top-light;

    // Mobile Fixed Layout Colors
    &.rd-navbar-fixed {
      @extend %rd-navbar-default-panel-light;
      @extend %rd-navbar-default-mobile-menu-light;
      @extend %rd-navbar-default-aside-left-light;
    }

    // Desktop Static Layout Colors
    &.rd-navbar-static {
      @extend %rd-navbar-default-menu-first-lvl-light;
      @extend %rd-navbar-default-menu-dropdown-light;

      &.rd-navbar--is-stuck {
        background: $rd-navbar-top-panel-light-stuck-background;
      }
    }
  }
}

.ie-11, .ie-edge {
  .rd-navbar .rd-navbar-megamenu {
    left: 50%;
    right: auto;
    width: 100%;
    @include transform(translateX(-50%));
  }
}

// fix megamenu for tablet
.tablet {
  .rd-navbar .rd-navbar-megamenu .row .col-md-3 {
    width: 100%;
  }

  .rd-navbar .rd-navbar-megamenu .row .col-md-3 .reveal-md-block {
    display: none !important;
  }

  .rd-navbar .rd-navbar-megamenu .row .col-md-3 .offset-md-top-5 {
    margin-top: 0 !important;
  }
}